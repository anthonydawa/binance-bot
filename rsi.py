import numpy as np

x = ['58697.37000000', '58736.73000000', '58700.99000000', '58744.12000000', '58730.02000000', '58763.56000000', '58768.26000000', '58777.91000000', '58738.93000000', '58753.63000000', '58737.03000000', '58736.80000000', '58760.67000000', '58797.14000000', '58799.96000000', '58779.60000000', '58793.53000000', '58764.00000000', '58707.66000000', '58799.55000000', '58874.28000000', '58864.51000000', '58830.53000000', '58879.52000000', '58894.82000000', '58912.77000000', '58903.04000000', '58856.33000000', '58868.35000000', '58871.38000000', '58904.48000000', '58979.99000000', '58895.49000000', '58913.22000000', '58870.42000000', '58868.37000000', '58857.27000000', '58812.31000000', '58829.53000000', '58820.01000000', '58830.00000000', '58858.61000000', '58866.11000000', '58924.81000000', '58915.10000000', '58900.50000000', '58959.99000000', '58946.23000000', '58963.25000000', '58944.14000000', '58970.02000000', '58925.51000000', '58920.01000000', '58904.16000000', '58938.13000000', '58959.54000000', '59000.00000000', '58974.46000000', '59011.55000000', '58996.78000000', '58970.63000000', '58934.25000000', '58900.00000000', '58923.20000000', '58899.85000000', '58913.28000000', '58908.35000000', '58912.74000000', '58980.01000000', '59001.62000000', '58970.51000000', '59014.74000000', '59007.28000000', '59059.99000000', '59010.93000000', '58997.90000000', '59005.46000000', '59005.48000000', '58939.43000000', '58890.00000000', '58939.99000000', '58923.57000000', '58980.84000000', '58954.15000000', '58935.67000000', '58934.40000000', '58921.44000000', '58902.81000000', '58916.57000000', '58889.43000000', '58887.88000000', '58876.95000000', '58896.02000000', '58914.93000000', '58908.01000000', '58882.23000000', '58906.18000000', '58873.45000000', '58883.63000000', '58856.97000000', '58875.30000000', '58893.56000000', '58898.07000000', '58899.98000000', '58880.76000000', '58871.19000000', '58867.16000000', '58887.42000000', '58865.00000000', '58835.03000000', '58860.10000000', '58852.79000000', '58857.80000000', '58840.77000000', '58843.04000000', '58840.76000000', '58830.32000000', '58896.55000000', '58784.77000000', '58825.18000000', '58781.08000000', '58785.08000000', '58750.07000000', '58728.97000000', '58739.61000000', '58787.97000000', '58762.58000000', '58751.32000000', '58743.50000000', '58721.47000000', '58735.76000000', '58727.63000000', '58720.44000000', '58760.34000000', '58750.01000000', '58672.92000000', '58644.15000000', '58620.02000000', '58628.78000000', '58644.25000000', '58684.57000000', '58832.67000000', '58801.50000000', '58857.71000000', '58800.01000000', '58817.95000000', '58867.73000000', '58799.44000000', '58825.86000000', '58793.19000000', '58751.18000000', '58741.78000000', '58740.94000000', '58689.01000000', '58649.09000000', '58691.65000000', '58728.47000000', '58654.45000000', '58641.01000000', '58622.74000000', '58652.76000000', '58627.15000000', '58655.52000000', '58580.00000000', '58703.30000000', '58669.06000000', '58663.86000000', '58667.09000000', '58687.19000000', '58700.88000000', '58709.93000000', '58746.84000000', '58689.20000000', '58709.54000000', '58687.39000000', '58647.19000000', '58630.00000000', '58600.00000000', '58612.04000000', '58599.99000000', '58557.65000000', '58625.48000000', '58574.42000000', '58562.87000000', '58577.43000000', '58581.71000000', '58523.32000000', '58563.69000000', '58635.47000000', '58612.45000000', '58543.34000000', '58580.53000000', '58648.62000000', '58732.98000000', '58670.00000000', '58705.19000000', '58736.21000000', '58741.71000000', '58701.69000000', '58702.50000000', '58716.83000000', '58718.20000000', '58708.76000000', '58706.01000000', '58778.90000000', '58789.01000000', '58800.04000000', '58822.58000000', '58825.56000000']

# x = [1,2,3,4,5,6,7,8,6,2,1,5,7,8,9,5,7,7,3,6]

def RelativeStrengthIndex(prices, n=14):
    xprices = []
    for p in prices:
        f = float(p)
        xprices.append(f)

    deltas = np.diff(xprices)
    seed = deltas[:n+1]
    up = seed[seed>=0].sum()/n
    down = -seed[seed<0].sum()/n
    rs = up/down
    rsi = np.zeros_like(xprices)
    rsi[:n] = 100. - 100./(1.+rs)

    for i in range(n,len(xprices)):
        delta = deltas[i-1]
        if delta > 0:
            upval = delta
            downval = 0.
        else:
            upval = 0.
            downval = -delta

        up = (up*(n-1)+upval)/n
        down = (down*(n-1)+downval)/n

        rs = up/down
        rsi[i] = 100. - 100./(1.+rs)

    return rsi

print(RelativeStrengthIndex(x,14))